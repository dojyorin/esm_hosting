{
    "name": "esm_hosting",

    "services": {
        "server": {
            "image": "dojyorin/deno:latest",
            "init": true,
            "user": "nonroot",
            "restart": "always",
            "ports": [
                "0.0.0.0:8000:8000"
            ],
            "volumes": [
                "../:/home/nonroot/project:ro"
            ],
            "environment": {
                "ESM_HOST": ""
            },
            "command": [
                "run",
                "--allow-net",
                "--allow-read",
                "--allow-env",
                "/home/nonroot/project/main.ts"
            ]
        }
    }
}